# Introducción a la Composición de Componentes en React

## **Introducción**

La **composición de componentes** permite construir interfaces complejas combinando componentes más pequeños y reutilizables. Este enfoque facilita la **modularidad, el mantenimiento y la escalabilidad** de una aplicación React.

---

## **Principios de la Composición de Componentes**

✔ **Responsabilidad única:** Cada componente debe tener una única función bien definida.  
✔ **Separación de preocupaciones:** Diferentes aspectos de la aplicación (UI, lógica, eventos) deben manejarse en componentes separados.  
✔ **Reutilización:** Diseñar componentes genéricos que puedan usarse en distintos lugares.  
✔ **Componibilidad:** Los componentes deben poder combinarse fácilmente para formar estructuras más complejas.  

---

## **Beneficios de la Composición de Componentes**

✅ **Código más organizado y modular.**  
✅ **Mayor reutilización de componentes.**  
✅ **Mantenimiento más sencillo.**  
✅ **Facilita la escalabilidad.**  

---

## **Patrones de Composición de Componentes**

### **1️⃣ Contención (`children`)**

🔹 Se usa cuando un componente no sabe de antemano qué hijos tendrá.

```jsx
function Card(props) {
  return <div className="card">{props.children}</div>;
}

function App() {
  return (
    <Card>
      <h1>Welcome!</h1>
      <button>Sign Up</button>
    </Card>
  );
}
```
✅ **Permite reutilizar el `Card` con distintos contenidos.**

---

### **2️⃣ Especialización**

🔹 Se usa cuando un componente extiende otro añadiendo características específicas.

```jsx
function Button(props) {
  return <button className={`button ${props.className}`} onClick={props.onClick}>{props.children}</button>;
}

function PrimaryButton(props) {
  return <Button className="primary-button" {...props} />;
}
```
✅ **`PrimaryButton` es una versión especializada de `Button`.**

---

### **3️⃣ Componentes de Orden Superior (HOC)**

🔹 Un **HOC** es una función que toma un componente y devuelve un nuevo componente con funcionalidades adicionales.

```jsx
function withLogging(WrappedComponent) {
  return function WithLogging(props) {
    console.log(`Rendering ${WrappedComponent.name}`);
    return <WrappedComponent {...props} />;
  };
}

function MyComponent(props) {
  return <div>Hello, {props.name}!</div>;
}

const MyComponentWithLogging = withLogging(MyComponent);
```
✅ **Útil para agregar lógica a varios componentes sin duplicar código.**

---

## **Ejemplo Práctico: Lista de Productos**

📌 **Desglose de Componentes:**
- `ProductList`: Renderiza una lista de `ProductItem`.
- `ProductItem`: Representa un producto con su imagen, nombre y precio.
- `Image`, `ProductName`, `ProductPrice`: Componentes individuales reutilizables.

```jsx
function Image({ src, alt }) {
  return <img src={src} alt={alt} />;
}

function ProductName({ name }) {
  return <h2>{name}</h2>;
}

function ProductPrice({ price }) {
  return <p>${price}</p>;
}

function ProductItem({ product }) {
  return (
    <div className="product-item">
      <Image src={product.image} alt={product.name} />
      <ProductName name={product.name} />
      <ProductPrice price={product.price} />
    </div>
  );
}

function ProductList({ products }) {
  return (
    <div className="product-list">
      {products.map((product) => (
        <ProductItem key={product.id} product={product} />
      ))}
    </div>
  );
}

function App() {
  const products = [
    { id: 1, name: 'Laptop', price: 1200, image: 'laptop.jpg' },
    { id: 2, name: 'Keyboard', price: 100, image: 'keyboard.jpg' },
    { id: 3, name: 'Mouse', price: 50, image: 'mouse.jpg' },
  ];

  return <ProductList products={products} />;
}
```
✅ **Separar la lógica en componentes pequeños facilita la reutilización y mantenimiento.**

---

## **Ejercicios de Práctica**

📌 **1. Mejorar el `Card` Componente**
- Agrega un `title` para mostrar como encabezado dentro de la tarjeta.

📌 **2. Crear un `StyledButton`**
- Extiende `Button` para agregar estilos específicos.

📌 **3. Implementar un `withAuthentication` HOC**
- Crea un HOC que verifique si un usuario está autenticado.

📌 **4. Refactorizar `ProductList`**
- Agrega un `ProductDescription` dentro de `ProductItem`.

---

## **Resumen y Próximos Pasos**

✔️ Aprendimos sobre **composición de componentes** en React.  
✔️ Exploramos patrones como **contención, especialización y HOC**.  
✔️ Implementamos un **ejemplo práctico con lista de productos**.  

🚀 **Próxima lección:** **Estado y Eventos en React**, para hacer los componentes interactivos.

